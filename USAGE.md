# Quick Start Guide

## Installation

```bash
# Already done!
pnpm install
```

## Running Commands

Use `pnpm claude-commands <command>` to run the CLI:

```bash
# List all active Claude Code sessions
pnpm claude-commands list

# Collect and analyze commands (uses Claude CLI)
pnpm claude-commands collect

# Apply approved commands
pnpm claude-commands apply review-2025-10-23-183045.json
```

## Making it globally available (optional)

If you want to use `claude-commands` directly without `pnpm`:

```bash
# Option 1: pnpm link (recommended)
pnpm link --global
claude-commands list

# Option 2: Add to PATH
echo 'export PATH="$PATH:/Users/username/github/claude-enabled/src"' >> ~/.zshrc
source ~/.zshrc
./src/cli.ts list
```

## First Run Workflow

1. **Discover your sessions:**
   ```bash
   pnpm claude-commands list
   ```

2. **Collect commands for review:**
   ```bash
   pnpm claude-commands collect
   ```

   Note: This uses the `claude` CLI command, which must be installed and authenticated.

   This creates a `review-YYYY-MM-DD-HHMMSS.json` file.

3. **Review and approve commands interactively:**
   ```bash
   pnpm claude-commands review review-*.json
   ```

   Use the interactive interface to approve/deny each command:
   - `[A]` Approve - Add command to allowed list
   - `[D]` Deny - Skip this command
   - `[S]` Skip - Leave as pending for later
   - `[N]` Next - Move to next item
   - `[P]` Previous - Go back to previous item
   - `[Q]` Save & Quit - Save changes and exit

   **OR manually edit the file:**
   ```bash
   # Edit the review file
   vim review-*.json

   # Set "approved": true for commands you want to allow
   # Set "approved": false for commands you want to deny
   # Leave "approved": null to skip
   ```

4. **Apply approved commands:**
   ```bash
   pnpm claude-commands apply review-*.json
   ```

   This will:
   - Update `~/.claude/settings.json`
   - Create a backup
   - Log to `history/command-approvals.md`

5. **Start a new Claude Code session:**
   Your approved commands will now be auto-allowed in any new session!

## Files Created

- `review-*.json` - Generated by `collect`, edit to approve/deny commands
- `history/command-approvals.md` - Permanent log of all approvals
- `~/.claude/orchestrator-state.json` - Tracks last collection run
- `~/.claude/settings.json.backup.*` - Backups before modifications

## Tips

- Run `collect` weekly to gather new commands from your work
- Review files are safe to commit to git for team sharing
- The history file provides an audit trail of all command approvals
- Sessions older than 7 days (or last run) are automatically filtered out
